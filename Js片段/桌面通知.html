<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		function notify () {
			if(window.webkitNotifications){
				if(window.webkitNotifications.checkPermission() == 0){
					//var notification = window.webkitNotifications.createNotification("http://images.cnblogs.com/cnblogs_com/flyingzl/268702/r_1.jpg", '标题', '内容'+new Date().getTime())
					var notification = window.webkitNotifications.createNotification("http://images.cnblogs.com/cnblogs_com/flyingzl/268702/r_1.jpg", '标题', '内容'+new Date().getTime())
					notification.display = function() {
						console.log("display");
					}
					notification.onerror = function() {console.log("onerror");}
					notification.onclose = function() {console.log("onclose");}
					notification.onclick = function() {
						this.cancel(); 
						location.href = 'http://www.baidu.com';
					}
					notification.replaceId = "Meteoric"
					notification.show();

					// var tempPopup = window.webkitNotifications.createHTMLNotification(["http://www.baidu.com/", "http://www.soso.com"][Math.random() >= 0.5 ? 0 : 1]);
					// tempPopup.replaceId = "Meteoric_cry";
					// tempPopup.show();
				}else{
					window.webkitNotifications.requestPermission(notify);
				}
			}
		}
	</script>
</head>
<body>
	<button type="button" id="btn" onclick="notify()">显示桌面通知</button>
</body>
</html>